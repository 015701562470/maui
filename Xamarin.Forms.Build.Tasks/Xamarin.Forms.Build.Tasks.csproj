<Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
    <AssemblyName>Xamarin.Forms.Build.Tasks</AssemblyName>
    <TargetFrameworkVersion>v4.5.1</TargetFrameworkVersion>
    <SolutionDir Condition="$(SolutionDir) == '' Or $(SolutionDir) == '*Undefined*'">..\</SolutionDir>
    <RestorePackages>true</RestorePackages>
  </PropertyGroup>
  <PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Debug|AnyCPU' ">
    <DebugSymbols>true</DebugSymbols>
    <DebugType>full</DebugType>
    <Optimize>false</Optimize>
    <OutputPath>bin\Debug</OutputPath>
    <DefineConstants>DEBUG;</DefineConstants>
    <ErrorReport>prompt</ErrorReport>
    <WarningLevel>4</WarningLevel>
    <ConsolePause>false</ConsolePause>
    <TreatWarningsAsErrors>true</TreatWarningsAsErrors>
    <NoWarn></NoWarn>
  </PropertyGroup>
  <PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Release|AnyCPU' ">
    <DebugType>full</DebugType>
    <Optimize>true</Optimize>
    <OutputPath>bin\Release</OutputPath>
    <ErrorReport>prompt</ErrorReport>
    <WarningLevel>4</WarningLevel>
    <ConsolePause>false</ConsolePause>
    <TreatWarningsAsErrors>true</TreatWarningsAsErrors>
    <NoWarn></NoWarn>
  </PropertyGroup>
  <ItemGroup>
    <PackageReference Include="Mono.Cecil" Version="0.10.0-beta7" />
    <PackageReference Include="System.CodeDom" Version="4.4.0" />
    <PackageReference Include="Microsoft.Build" Version="15.3.409" />
    <PackageReference Include="Microsoft.Build.Framework" Version="15.3.409" />
    <PackageReference Include="Microsoft.Build.Utilities.Core" Version="15.3.409" />
    <PackageReference Include="Microsoft.Build.Tasks.Core" Version="15.3.409" />
  </ItemGroup>

  <ItemGroup>
    <Compile Include="Properties\AssemblyInfo.cs" />
    <Compile Include="XamlGTask.cs" />
    <Compile Include="ILContext.cs" />
    <Compile Include="CreateObjectVisitor.cs" />
    <Compile Include="SetPropertiesVisitor.cs" />
    <Compile Include="SetFieldVisitor.cs" />
    <Compile Include="TypeReferenceExtensions.cs" />
    <Compile Include="NodeILExtensions.cs" />
    <Compile Include="ILProcessorExtensions.cs" />
    <Compile Include="ExpandMarkupsVisitor.cs" />
    <Compile Include="SetNamescopesAndRegisterNamesVisitor.cs" />
    <Compile Include="MethodReferenceExtensions.cs" />
    <Compile Include="XamlCTask.cs" />
    <Compile Include="DebugXamlCTask.cs" />
    <Compile Include="ILRootNode.cs" />
    <Compile Include="XmlTypeExtensions.cs" />
    <Compile Include="SetResourcesVisitor.cs" />
    <Compile Include="TypeDefinitionExtensions.cs" />
    <Compile Include="FieldReferenceExtensions.cs" />
    <Compile Include="PropertyDefinitionExtensions.cs" />
    <Compile Include="XamlCAssemblyResolver.cs" />
    <Compile Include="MethodDefinitionExtensions.cs" />
    <Compile Include="CompiledMarkupExtensions\StaticExtension.cs" />
    <Compile Include="CompiledMarkupExtensions\ICompiledMarkupExtension.cs" />
    <Compile Include="BindablePropertyReferenceExtensions.cs" />
    <Compile Include="CompiledConverters\BindablePropertyConverter.cs" />
    <Compile Include="CompiledConverters\BindingTypeConverter.cs" />
    <Compile Include="CompiledConverters\BoundsTypeConverter.cs" />
    <Compile Include="CompiledConverters\ColorTypeConverter.cs" />
    <Compile Include="CompiledConverters\ICompiledTypeConverter.cs" />
    <Compile Include="CompiledConverters\LayoutOptionsConverter.cs" />
    <Compile Include="CompiledConverters\RectangleTypeConverter.cs" />
    <Compile Include="Logger.cs" />
    <Compile Include="XamlTask.cs" />
    <Compile Include="CompiledMarkupExtensions\ArrayExtension.cs" />
    <Compile Include="CompiledConverters\ConstraintTypeConverter.cs" />
    <Compile Include="CompiledConverters\ThicknessTypeConverter.cs" />
    <Compile Include="MethodBodyExtensions.cs" />
    <Compile Include="CompiledConverters\TypeTypeConverter.cs" />
    <Compile Include="CompiledValueProviders\SetterValueProvider.cs" />
    <Compile Include="CompiledValueProviders\ICompiledValueProvider.cs" />
    <Compile Include="CompiledValueProviders\PassthroughValueProvider.cs" />
    <Compile Include="CompiledConverters\ListStringTypeConverter.cs" />
    <Compile Include="CompiledMarkupExtensions\TypeExtension.cs" />
    <Compile Include="CompiledMarkupExtensions\NullExtension.cs" />
    <Compile Include="GetTasksAbi.cs" />
    <Compile Include="CompiledConverters\UriTypeConverter.cs" />
  </ItemGroup>

  <ItemGroup>
    <Compile Include="..\Xamarin.Forms.Core\Properties\GlobalAssemblyInfo.cs">
      <Link>Properties\GlobalAssemblyInfo.cs</Link>
    </Compile>
  </ItemGroup>
  <Target Name="_CopyToNuspecDir" AfterTargets="Build">
    <ItemGroup>
      <_CopyItems Include="$(TargetDir)*.dll" />
    </ItemGroup>
    <Copy SourceFiles="@(_CopyItems)" DestinationFolder="..\.nuspec\" ContinueOnError="true" Retries="0" />
     <ItemGroup>
      <_NetStandard Include="$(NugetPackageRoot)/netstandard.library/2.0.3/build/netstandard2.0/ref/*.dll" />
    </ItemGroup>
    <Copy SourceFiles="@(_NetStandard)" DestinationFolder="..\.nuspec\" ContinueOnError="true" Retries="0" />
 
 
 </Target>

</Project>
